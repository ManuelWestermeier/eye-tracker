(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();const g=document.getElementById("state");document.getElementById("error");const m=r=>g&&(g.innerText=r);async function y(){return new Promise((r,t)=>{if(window.webgazer){r(window.webgazer);return}const i=document.createElement("script");i.src="https://webgazer.cs.brown.edu/webgazer.js",i.async=!0,i.onload=()=>r(window.webgazer),i.onerror=()=>t(new Error("Failed to load WebGazer.js")),document.head.appendChild(i)})}async function p(){m("Loading Model...");const r=await y();m("Initializing WebGazer..."),r.setRegression("ridge").setTracker("TFFacemesh").setGazeListener((t,i)=>{t&&F(t.x,t.y)}).begin(),r.showVideoPreview(!1).showPredictionPoints(!1)}p();const E=document.getElementById("state");document.getElementById("error");document.getElementById("text");const d=document.getElementById("edit-view"),o=d.getContext("2d"),u=[["Esc","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\"],["Caps","A","S","D","F","G","H","J","K","L",";","'","Enter"],["Shift","Z","X","C","V","B","N","M",",",".","/","Shift"],["Ctrl","Alt","Space","Alt","Ctrl"]];function w(){o.clearRect(0,0,d.width,d.height),o.font="14px Arial",o.textAlign="center",o.textBaseline="middle";let r=10,t=10,i=50,c=50,e=5;for(let n=0;n<u.length;n++){let s=r;for(let f=0;f<u[n].length;f++){let l=u[n][f],a=l==="Backspace"||l==="Enter"||l==="Shift"?i*1.5:l==="Space"?i*5:i;o.fillStyle="#ddd",o.fillRect(s,t,a,c),o.strokeStyle="#000",o.strokeRect(s,t,a,c),o.fillStyle="#000",o.fillText(l,s+a/2,t+c/2),s+=a+e}t+=c+e}}w();function F(r,t){w(),E.innerText=`${r};${t}`,o.fillRect(r,t,100,100)}function h(){d.width=window.innerWidth,d.height=window.innerHeight}window.addEventListener("resize",h);h();
